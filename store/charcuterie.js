export const state = () => ({
  datas: [
    {
      product: 'Jambon de Bayonne 12 mois chiffonnade',
      weight: '100 GR',
      price: 3.9,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 1
    },
    {
      product: 'Jambon de Bayonne 12 mois tranché sous-vide',
      weight: '100 GR',
      price: 3.9,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 2
    },
    {
      product: 'Jambon Don Ibane 24 mois chiffonnade en barquette',
      weight: '100 GR',
      price: 5.9,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 3
    },
    {
      product: 'Jambon Don Ibane 24 mois tranché sous-vide',
      weight: '100 GR',
      price: 5.9,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 4
    },
    {
      product: 'Lomo séché au piment d’Espelette tranché sous-vide',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 5
    },
    {
      product: 'Lomo séché au piment d’Espelette chiffonnade en barquette',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 6
    },
    {
      product: 'Coppa basque tranché sous-vide',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 7
    },
    {
      product: 'Coppa basque chiffonnade en barquette',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 8
    },
    {
      product: 'Chorizo Iruña tranché sous vide',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 9
    },
    {
      product: 'Chorizo Iruña chiffonnade en barquette',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 10
    },
    {
      product: 'Rosette tranché sous vide',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 11
    },
    {
      product: 'Rosette chiffonnade en barquette',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 12
    },
    {
      product: 'Saucisson au piment d’Espelette tranché en barquette',
      weight: '100 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 13
    },
    {
      product: 'Confit de porc',
      weight: '800 GR',
      price: 12.5,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 14
    },
    {
      product: 'Pâté au foie gras',
      weight: '125 GR',
      price: 4,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 15
    },
    {
      product: 'Pâté Basque au piment d’Espelette',
      weight: '125 GR',
      price: 2.5,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 16
    },
    {
      product: 'Pâté de campagne',
      weight: '125 GR',
      price: 2.5,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 17
    },
    {
      product: 'Boudin au piment d’Espelette',
      weight: '125 GR',
      price: 2.9,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 18
    },
    {
      product: 'Chichons de porc',
      weight: '190 GR',
      price: 3.5,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 19
    },
    {
      product: 'Pâté de tête',
      weight: '190 GR',
      price: 3.5,
      name: 'La ferme Elizaldia',
      quantity: 1,
      id: 20
    },
    {
      product: 'Prosciuto italien',
      weight: '500 GR',
      price: 11.9,
      name: 'Negrini',
      quantity: 1,
      id: 36
    },
    {
      product: 'Proscituo italien',
      weight: '110 GR',
      price: 2.9,
      name: 'Negrini',
      quantity: 1,
      id: 37
    },
    {
      product: 'Speck affetato',
      weight: '110 GR',
      price: 2.9,
      name: 'Negrini',
      quantity: 1,
      id: 38
    },
    {
      product: 'Salame ventricina - saucisson piquant',
      weight: '110 GR',
      price: 2.5,
      name: 'Negrini',
      quantity: 1,
      id: 39
    },
    {
      product: 'Jambon truffée',
      weight: '110 GR',
      price: 3.9,
      name: 'Negrini',
      quantity: 1,
      id: 43
    },
    {
      product: 'Bresaola (boeuf séché) tranchée sous vide',
      weight: '100 GR',
      price: 4.9,
      name: 'Negrini',
      quantity: 1,
      id: 40
    },
    {
      product: 'Bresaola (boeuf séché) chiffonnade en barquette',
      weight: '100 GR',
      price: 4.9,
      name: 'Negrini',
      quantity: 1,
      id: 41
    },
    {
      product: 'Coppa stagionata',
      weight: '100 GR',
      price: 2.9,
      name: 'Negrini',
      quantity: 1,
      id: 42
    },
    {
      product: 'Jambon d Auvergne 14 mois tranché sous vide',
      weight: '100 GR',
      price: 3.9,
      name: 'Maison Laborie',
      quantity: 1,
      id: 44
    },
    {
      product: 'Jambon d Auvergne 14 mois chiffonnade en barquette',
      weight: '100 GR',
      price: 3.9,
      name: 'Maison Laborie',
      quantity: 1,
      id: 45
    },
    {
      product: 'Saucisse séche du Haut-Mont tranchée en barquette',
      weight: '100 GR',
      price: 3.5,
      name: 'Maison Laborie',
      quantity: 1,
      id: 46
    },
    {
      product: 'Pâté de canard verrine',
      weight: '180 GR',
      price: 5.9,
      name: 'Raymonds d Artigues',
      quantity: 1,
      id: 47
    },
    {
      product: 'Rillettes de canard recette landaise',
      weight: '180 GR',
      price: 4.9,
      name: 'Raymonds d Artigues',
      quantity: 1,
      id: 48
    },
    {
      product: 'Jambon Serrano Gran reserva 24 mois chiffonnade en barquette',
      weight: '100 GR',
      price: 3.9,
      name: 'Rosco',
      quantity: 1,
      id: 49
    },
    {
      product: 'Jambon Serrano Gran reserva 24 mois tranché sous vide',
      weight: '100 GR',
      price: 3.9,
      name: 'Rosco',
      quantity: 1,
      id: 50
    },
    {
      product: 'Lomo reserva tranché sous vide',
      weight: '100 GR',
      price: 4.5,
      name: 'Rosco',
      quantity: 1,
      id: 51
    },
    {
      product: 'Lomo reserva chiffonnade en barquette',
      weight: '100 GR',
      price: 4.5,
      name: 'Rosco',
      quantity: 1,
      id: 52
    },
    {
      product: 'Saucisson ibérique de bellota tranché sous vide',
      weight: '100 GR',
      price: 2.7, 
      name: 'Rosco',
      quantity: 1,
      id: 53
    },
    {
      product: 'Chorizo ibérique de bellota tranché sous vide',
      weight: '100 GR',
      price: 2.7,
      name: 'Rosco',
      quantity: 1,
      id: 54
    },
    {
      product:'Épaule de cochon pata negra pur bellota chiffonnade en barquette',
      weight: '100 GR',
      price: 9.9, 
      name: 'Rosco',
      quantity: 1,
      id: 55
    }
  ]
})

export const mutations = {
  addProductQuantity(state, id) {
    const index = state.datas.findIndex((d) => d.id === id)
    state.datas[index].quantity++
  },
  removeQuantity(state, id) {
    const index = state.datas.findIndex((d) => d.id === id)
    if (index.quantity === 0) {
      state.datas[index].splice(index, 1)
    }
    state.datas[index].quantity--
  }
}

export const actions = {
  async getBlogs ({ commit }) {
    const { blogs } = await axios.get('http://localhost:1337/')
    commit('blogs', blogs)
  }
}
